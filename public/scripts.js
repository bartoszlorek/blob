!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t}return r(e,[{key:"update",value:function(){console.warn("unhandled trait update")}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),u=n(12),a=(r=u)&&r.__esModule?r:{default:r};var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15132390;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.color=n,this.shape=new i.Graphics,this.blobs=new a.default}return o(e,[{key:"clear",value:function(){this.shape.clear(),this.shape.beginFill(this.color)}},{key:"render",value:function(e){var t=this;this.clear(),this.blobs.forEach(function(n){t.shape.drawCircle(e.rootX+n.pos.x,e.rootY+n.pos.y,n.radius)})}},{key:"update",value:function(e,t){this.blobs.forEach(function(n){n.update(e,t)})}},{key:"intersection",value:function(e){var t=[];return this.blobs.forEach(function(n){n.intersection(e)&&t.push(n)}),t}},{key:"intersectionX",value:function(e){var t=[];return this.blobs.forEach(function(n){n.intersectionX(e)&&t.push(n)}),t}},{key:"intersectionY",value:function(e){var t=[];return this.blobs.forEach(function(n){n.intersectionY(e)&&t.push(n)}),t}},{key:"root",get:function(){return this.blobs.items[0]}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),i=n(3);var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pos=new o.Point(t,n),this.vel=new o.Point(0,0),this.radius=r,this.traits=[]}return r(e,[{key:"distance",value:function(e){var t=this.pos.x-e.pos.x,n=this.pos.y-e.pos.y;return Math.sqrt(t*t+n*n)}},{key:"intersection",value:function(e){return!1!=(this.top<e.bottom&&this.bottom>e.top&&this.right>e.left&&this.left<e.right)&&!(this.distance(e)>this.radius+e.radius)}},{key:"intersectionX",value:function(e){return!1!=(this.right>e.left&&this.left<e.right)&&!(this.distance(e)>this.radius+e.radius)}},{key:"intersectionY",value:function(e){return!1!=(this.top<e.bottom&&this.bottom>e.top)&&!(this.distance(e)>this.radius+e.radius)}},{key:"setFromGrid",value:function(e,t,n){this.pos.set((0,i.fromGridX)(e,t),(0,i.fromGridY)(e,n))}},{key:"setFromGlobal",value:function(e,t,n){this.pos.set((0,i.fromGlobalX)(e,t),(0,i.fromGlobalY)(e,n))}},{key:"addTrait",value:function(e){this.traits.push(e),this[e.name]=e}},{key:"update",value:function(e,t){for(var n=-1,r=this.traits.length;++n<r;)this.traits[n].update(this,e,t)}},{key:"top",get:function(){return this.pos.y-this.radius}},{key:"bottom",get:function(){return this.pos.y+this.radius}},{key:"left",get:function(){return this.pos.x-this.radius}},{key:"right",get:function(){return this.pos.x+this.radius}}],[{key:"fromGrid",value:function(t,n,r,o){return void 0===o&&(o=t.radius),new e((0,i.fromGridX)(t,n),(0,i.fromGridY)(t,r),o)}},{key:"fromGlobal",value:function(t,n,r,o){return void 0===o&&(o=t.radius),new e((0,i.fromGlobalX)(t,n),(0,i.fromGlobalY)(t,r),o)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.toOffsetX=function(e){return Math.sqrt(Math.pow(2*e,2)-Math.pow(e,2))},o=(t.toOffsetY=function(e){return e},t.toOffset=function(e){return{x:r(e),y:e}},t.toGridX=function(e,t){return t/e.offsetX}),i=t.toGridY=function(e,t){return t/e.offsetY},u=(t.toGrid=function(e,t,n){return void 0===n?{x:o(e,t.x),y:i(e,t.y)}:{x:o(e,t),y:i(e,n)}},t.fromGridX=function(e,t){return t*e.offsetX}),a=t.fromGridY=function(e,t){return t*e.offsetY},f=(t.fromGrid=function(e,t,n){return void 0===n?{x:u(e,t.x),y:a(e,t.y)}:{x:u(e,t),y:a(e,n)}},t.fromGlobalX=function(e,t){return t-e.rootX}),s=t.fromGlobalY=function(e,t){return t-e.rootY};t.fromGlobal=function(e,t,n){return void 0===n?{x:f(e,t.x),y:s(e,t.y)}:{x:f(e,t),y:s(e,n)}}},function(e,t){e.exports=PIXI},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=new r.default("ground",2541274);return t.blobs.add(o.default.fromGrid(e,0,0)),t.blobs.add(o.default.fromGrid(e,1,-1)),t.blobs.add(o.default.fromGrid(e,-1,-1)),t.blobs.add(o.default.fromGrid(e,-2,0)),t.blobs.add(o.default.fromGrid(e,-3,-1)),t.blobs.add(o.default.fromGrid(e,-4,0)),t.blobs.add(o.default.fromGrid(e,1,-3)),t.blobs.add(o.default.fromGrid(e,1,-5)),t.blobs.add(o.default.fromGrid(e,1,-7)),t.blobs.add(o.default.fromGrid(e,1,-9)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=(r=i)&&r.__esModule?r:{default:r};var a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"jump"));return e.duration=.5,e.velocity=7,e.engageTime=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:"start",value:function(){this.engageTime=this.duration}},{key:"cancel",value:function(){this.engageTime=0}},{key:"update",value:function(e,t){this.engageTime>0&&(e.vel.y=-this.velocity,this.engageTime-=t)}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=(r=i)&&r.__esModule?r:{default:r};var a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"move"));return e.dir=0,e.speed=2,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:"update",value:function(e,t){e.vel.x=this.speed*this.dir*t}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GRAVITY=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=(r=i)&&r.__esModule?r:{default:r};var a=t.GRAVITY=.25,f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"gravity"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:"update",value:function(e,t){e.vel.y+=a*t}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=(r=i)&&r.__esModule?r:{default:r},a=n(8);var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"physics"));return e.factor=.5,e.collider=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:"update",value:function(e,t,n){e.pos.x+=e.vel.x*t,this.checkX(e,t),e.pos.y+=e.vel.y*t,this.checkY(e,t),e.vel.y+=a.GRAVITY*t}},{key:"potential",value:function(e,t){var n=(t.pos.y-e.pos.y)/t.radius;return n>1?1:n<0?0:n}},{key:"friction",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pos.x-e.pos.x,o=t.radius+e.radius,i=Math.abs(r/o);return i*=this.potential(e,t),n?i:i*(r>0?1:-1)}},{key:"checkX",value:function(e,t){var n=this;this.collider.intersectionX(e).forEach(function(r){e.vel.y-=n.friction(e,r)+n.factor,e.pos.x-=e.vel.x*t,e.vel.x=0})}},{key:"checkY",value:function(e,t){var n=this;this.collider.intersectionY(e).forEach(function(r){e.pos.x-=n.friction(e,r,!1)*n.factor,e.pos.y-=e.vel.y*t,e.vel.y=0})}},{key:"add",value:function(e){this.collider=e}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.states=new Map,this.events=new Map,this.listenTo(t)}return r(e,[{key:"on",value:function(e,t){this.events.set(e,t)}},{key:"handleEvent",value:function(e){e.preventDefault();var t=e.code;if(this.events.has(t)){var n="keydown"===e.type?1:0;this.states.get(t)!==n&&(this.states.set(t,n),this.events.get(t)(n))}}},{key:"listenTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;["keydown","keyup"].forEach(function(n){t.addEventListener(n,function(t){e.handleEvent(t)})})}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(10)),o=s(n(1)),i=s(n(2)),u=s(n(9)),a=s(n(7)),f=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=new o.default("player",16007990),n=new i.default(0,-250,.75*e.radius);t.blobs.add(n),n.addTrait(new u.default),n.addTrait(new a.default),n.addTrait(new f.default);var s=new r.default;return s.on("ArrowRight",function(e){n.move.dir+=e?1:-1}),s.on("ArrowLeft",function(e){n.move.dir+=e?-1:1}),s.on("Space",function(e){e?n.jump.start():n.jump.cancel()}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=null!=t?t.slice():[]}return r(e,[{key:"add",value:function(e){-1===this.items.indexOf(e)&&this.items.push(e)}},{key:"remove",value:function(e){var t=this.items.indexOf(e);-1!==t&&this.items.splice(t,1)}},{key:"empty",value:function(){this.items=[]}},{key:"forEach",value:function(e){for(var t=-1,n=this.items.length;++t<n;)if(!1===e(this.items[t],t,this.items))return}},{key:"length",get:function(){return this.items.length}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n={rootX:e.screen.width/2,rootY:e.screen.height/2,offsetX:(0,r.toOffsetX)(t),offsetY:(0,r.toOffsetY)(t),gravity:{get x(){return n.rootX},get y(){return n.rootY},value:.25},radius:t};return window.addEventListener("resize",function(){e.renderer.resize(window.innerWidth,window.innerHeight),n.rootX=e.screen.width/2,n.rootY=e.screen.height/2}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new(n(4).Application)({antialias:!0,width:window.innerWidth,height:window.innerHeight,backgroundColor:15921906});document.body.appendChild(r.view),t.default=r},function(e,t,n){"use strict";var r=s(n(14)),o=s(n(13)),i=n(3),u=s(n(2)),a=(s(n(1)),s(n(11))),f=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)(r.default,24),c=(0,a.default)(l),d=(0,f.default)(l);c.root.physics.add(d),r.default.stage.addChild(d.shape),r.default.stage.addChild(c.shape),r.default.renderer.view.addEventListener("click",function(e){var t=(0,i.toGrid)(l,(0,i.fromGlobal)(l,e.offsetX,e.offsetY)),n=u.default.fromGrid(l,Math.round(t.x),Math.round(t.y));d.blobs.add(n)}),r.default.ticker.add(function(e){c.update(e,l),d.render(l),c.render(l)})}]);