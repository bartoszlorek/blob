!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e}return r(t,[{key:"update",value:function(){console.warn("unhandled trait update")}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(2),u=(r=o)&&r.__esModule?r:{default:r},a=n(3);var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos=new u.default(e,n),this.vel=new u.default(0,0),this.radius=r,this.traits=[]}return i(t,[{key:"distance",value:function(t){var e=this.pos.x-t.pos.x,n=this.pos.y-t.pos.y;return Math.sqrt(e*e+n*n)}},{key:"intersection",value:function(t){return!1!=(this.top<t.bottom&&this.bottom>t.top&&this.right>t.left&&this.left<t.right)&&!(this.distance(t)>this.radius+t.radius)}},{key:"intersectionX",value:function(t){return!1!=(this.right>t.left&&this.left<t.right)&&!(this.distance(t)>this.radius+t.radius)}},{key:"intersectionY",value:function(t){return!1!=(this.top<t.bottom&&this.bottom>t.top)&&!(this.distance(t)>this.radius+t.radius)}},{key:"setFromGrid",value:function(t,e,n){this.pos.set((0,a.fromGridX)(t,e),(0,a.fromGridY)(t,n))}},{key:"setFromGlobal",value:function(t,e,n){this.pos.set((0,a.fromGlobalX)(t,e),(0,a.fromGlobalY)(t,n))}},{key:"addTrait",value:function(t){this.traits.push(t),this[t.name]=t}},{key:"update",value:function(t){for(var e=-1,n=this.traits.length;++e<n;)this.traits[e].update(this,t)}},{key:"top",get:function(){return this.pos.y-this.radius}},{key:"bottom",get:function(){return this.pos.y+this.radius}},{key:"left",get:function(){return this.pos.x-this.radius}},{key:"right",get:function(){return this.pos.x+this.radius}}],[{key:"fromGrid",value:function(e,n,r,i){return void 0===i&&(i=e.radius),new t((0,a.fromGridX)(e,n),(0,a.fromGridY)(e,r),i)}},{key:"fromGlobal",value:function(e,n,r,i){return void 0===i&&(i=e.radius),new t((0,a.fromGlobalX)(e,n),(0,a.fromGlobalY)(e,r),i)}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e||0,this.y=n||0}return r(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"subtract",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"divide",value:function(t){return this.x=t.x?this.x*(1/t.x):0,this.y=t.y?this.y*(1/t.y):0,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divideScalar",value:function(t){if(0===t)this.x=0,this.y=0;else{var e=1/t;this.x*=e,this.y*=e}return this}},{key:"invert",value:function(){return this.x*=-1,this.y*=-1,this}},{key:"limit",value:function(t){return this.length>t&&(this.length=t),this}},{key:"rotate",value:function(t){var e=this.x;return this.x=this.x*Math.cos(t)-this.y*Math.sin(t),this.y=e*Math.sin(t)+this.y*Math.cos(t),this}},{key:"normalize",value:function(){return this.divideScalar(this.length)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"distanceSq",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"distance",value:function(t){return Math.sqrt(this.distanceSq(t))}},{key:"lengthSq",get:function(){return this.dot(this)}},{key:"length",get:function(){return Math.sqrt(this.lengthSq)},set:function(t){var e=this.length;0!==e&&t!==e&&this.multiplyScalar(t/e)}},{key:"rad",get:function(){return Math.atan2(this.x,this.y)},set:function(t){this.set(Math.cos(t)*this.length,Math.sin(t)*this.length)}},{key:"deg",get:function(){return 180*this.rad/Math.PI},set:function(t){this.rad=t*Math.PI/180}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.toOffsetX=function(t){return Math.sqrt(Math.pow(2*t,2)-Math.pow(t,2))},i=(e.toOffsetY=function(t){return t},e.toOffset=function(t){return{x:r(t),y:t}},e.toGridX=function(t,e){return e/t.offsetX}),o=e.toGridY=function(t,e){return e/t.offsetY},u=(e.toGrid=function(t,e,n){return void 0===n?{x:i(t,e.x),y:o(t,e.y)}:{x:i(t,e),y:o(t,n)}},e.fromGridX=function(t,e){return e*t.offsetX}),a=e.fromGridY=function(t,e){return e*t.offsetY},s=(e.fromGrid=function(t,e,n){return void 0===n?{x:u(t,e.x),y:a(t,e.y)}:{x:u(t,e),y:a(t,n)}},e.fromGlobalX=function(t,e){return e-t.rootX}),f=e.fromGlobalY=function(t,e){return e-t.rootY};e.fromGlobal=function(t,e,n){return void 0===n?{x:s(t,e.x),y:f(t,e.y)}:{x:s(t,e),y:f(t,n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(5),u=n(10),a=(r=u)&&r.__esModule?r:{default:r};var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15132390;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.color=n,this.shape=new o.Graphics,this.blobs=new a.default}return i(t,[{key:"clear",value:function(){this.shape.clear(),this.shape.beginFill(this.color)}},{key:"render",value:function(t){var e=this;this.clear(),this.blobs.forEach(function(n){e.shape.drawCircle(t.rootX+n.pos.x,t.rootY+n.pos.y,n.radius)})}},{key:"update",value:function(t){this.blobs.forEach(function(e){e.update(t)})}},{key:"intersection",value:function(t){var e=[];return this.blobs.forEach(function(n){n.intersection(t)&&e.push(n)}),e}},{key:"intersectionX",value:function(t){var e=[];return this.blobs.forEach(function(n){n.intersectionX(t)&&e.push(n)}),e}},{key:"intersectionY",value:function(t){var e=[];return this.blobs.forEach(function(n){n.intersectionY(t)&&e.push(n)}),e}},{key:"root",get:function(){return this.blobs.items[0]}}]),t}();e.default=s},function(t,e){t.exports=PIXI},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(4)),i=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=new r.default("ground",2541274);return e.blobs.add(i.default.fromGrid(t,0,0)),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),u=(r=o)&&r.__esModule?r:{default:r};var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"jump"));return t.duration=.5,t.velocity=6,t.engageTime=0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),i(e,[{key:"start",value:function(){this.engageTime=this.duration}},{key:"cancel",value:function(){this.engageTime=0}},{key:"update",value:function(t,e){this.engageTime>0&&(t.vel.y=-this.velocity,this.engageTime-=e)}}]),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),u=(r=o)&&r.__esModule?r:{default:r};var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"move"));return t.dir=0,t.speed=.2,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),i(e,[{key:"update",value:function(t,e){t.vel.x+=this.speed*this.dir*e}}]),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=o(n(0));o(n(2));function o(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"physics"));return n.spec=t,n.factor=.5,n.collider=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"update",value:function(t,e){t.pos.x+=t.vel.x*e,this.checkX(t,e),t.pos.y+=t.vel.y*e,this.checkY(t,e);var n=this.gravity(t);t.vel.x+=n.x*e,t.vel.y+=n.y*e}},{key:"gravity",value:function(t){return this.spec.gravityCenter.clone().subtract(t.pos).multiplyScalar(.001)}},{key:"potential",value:function(t,e){var n=(e.pos.y-t.pos.y)/e.radius;return n>1?1:n<0?0:n}},{key:"friction",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.pos.x-t.pos.x,i=e.radius+t.radius,o=Math.abs(r/i);return o*=this.potential(t,e),n?o:o*(r>0?1:-1)}},{key:"checkX",value:function(t,e){var n=this;this.collider.intersectionX(t).forEach(function(r){t.vel.y-=n.friction(t,r)+n.factor,t.pos.x-=t.vel.x*e,t.vel.x=0})}},{key:"checkY",value:function(t,e){var n=this;this.collider.intersectionY(t).forEach(function(r){t.pos.x-=n.friction(t,r,!1)*n.factor,t.pos.y-=t.vel.y*e,t.vel.y=0})}},{key:"add",value:function(t){this.collider=t}}]),e}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=null!=e?e.slice():[]}return r(t,[{key:"add",value:function(t){-1===this.items.indexOf(t)&&this.items.push(t)}},{key:"remove",value:function(t){var e=this.items.indexOf(t);-1!==e&&this.items.splice(e,1)}},{key:"empty",value:function(){this.items=[]}},{key:"forEach",value:function(t){for(var e=-1,n=this.items.length;++e<n;)if(!1===t(this.items[e],e,this.items))return}},{key:"length",get:function(){return this.items.length}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.states=new Map,this.events=new Map,this.listenTo(e)}return r(t,[{key:"on",value:function(t,e){this.events.set(t,e)}},{key:"handleEvent",value:function(t){t.preventDefault();var e=t.code;if(this.events.has(e)){var n="keydown"===t.type?1:0;this.states.get(e)!==n&&(this.states.set(e,n),this.events.get(e)(n))}}},{key:"listenTo",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;["keydown","keyup"].forEach(function(n){e.addEventListener(n,function(e){t.handleEvent(e)})})}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(11)),i=f(n(4)),o=f(n(1)),u=f(n(9)),a=f(n(8)),s=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=new i.default("player",16007990),n=new o.default(-250,-250,.75*t.radius);e.blobs.add(n),n.addTrait(new u.default(t)),n.addTrait(new a.default),n.addTrait(new s.default);var f=new r.default;return f.on("ArrowRight",function(t){n.move.dir+=t?1:-1}),f.on("ArrowLeft",function(t){n.move.dir+=t?-1:1}),f.on("Space",function(t){t?n.jump.start():n.jump.cancel()}),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(3),o=n(2),u=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n={rootX:t.screen.width/2,rootY:t.screen.height/2,offsetX:(0,i.toOffsetX)(e),offsetY:(0,i.toOffsetY)(e),gravityCenter:new u.default(0,0),gravityValue:.4,radius:e};return window.addEventListener("resize",function(){t.renderer.resize(window.innerWidth,window.innerHeight),n.rootX=t.screen.width/2,n.rootY=t.screen.height/2}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=new(n(5).Application)({antialias:!0,width:window.innerWidth,height:window.innerHeight,backgroundColor:15921906});document.body.appendChild(r.view),e.default=r},function(t,e,n){"use strict";var r=f(n(14)),i=f(n(13)),o=n(3),u=f(n(1)),a=f(n(12)),s=f(n(6));function f(t){return t&&t.__esModule?t:{default:t}}var c=(0,i.default)(r.default,24),l=(0,a.default)(c),h=(0,s.default)(c);l.root.physics.add(h),r.default.stage.addChild(h.shape),r.default.stage.addChild(l.shape),r.default.renderer.view.addEventListener("click",function(t){var e=(0,o.toGrid)(c,(0,o.fromGlobal)(c,t.offsetX,t.offsetY)),n=u.default.fromGrid(c,Math.round(e.x),Math.round(e.y));h.blobs.add(n),console.log(h.blobs)}),r.default.ticker.add(function(t){l.update(t),h.render(c),l.render(c)})}]);