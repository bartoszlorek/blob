!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDGE=void 0;var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(3),u=(i=o)&&i.__esModule?i:{default:i};e.EDGE={TOP:Symbol("top"),BOTTOM:Symbol("bottom"),LEFT:Symbol("left"),RIGHT:Symbol("right")};var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos=new u.default(e,n),this.vel=new u.default(0,0),this.size=i,this.traits=[]}return r(t,[{key:"intersection",value:function(t){return this.top<t.bottom&&this.bottom>t.top&&this.right>t.left&&this.left<t.right}},{key:"addTrait",value:function(t){this.traits.push(t),this[t.name]=t}},{key:"update",value:function(t){for(var e=-1,n=this.traits.length;++e<n;)this.traits[e].update(this,t)}},{key:"obstruct",value:function(t,e){for(var n=-1,i=this.traits.length;++n<i;)this.traits[n].obstruct(this,t,e)}},{key:"top",get:function(){return this.pos.y},set:function(t){return this.pos.y=t}},{key:"bottom",get:function(){return this.pos.y+this.size},set:function(t){return this.pos.y=t-this.size}},{key:"left",get:function(){return this.pos.x},set:function(t){return this.pos.x=t}},{key:"right",get:function(){return this.pos.x+this.size},set:function(t){return this.pos.x=t-this.size}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e}return i(t,[{key:"update",value:function(){}},{key:"obstruct",value:function(){}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(5),u=n(10),s=(i=u)&&i.__esModule?i:{default:i};var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15132390;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.color=n,this.shape=new o.Graphics,this.blobs=new s.default}return r(t,[{key:"clear",value:function(){this.shape.clear(),this.shape.beginFill(this.color)}},{key:"render",value:function(t){var e=this;this.clear(),this.blobs.forEach(function(n){e.shape.drawRect(t.rootX+n.pos.x-n.size/2,t.rootY+n.pos.y-n.size/2,n.size,n.size)})}},{key:"update",value:function(t){this.blobs.forEach(function(e){e.update(t)})}},{key:"intersection",value:function(t){var e=[];return this.blobs.forEach(function(n){n.intersection(t)&&e.push(n)}),e}},{key:"bounds",value:function(){var t=0,e=0,n=0,i=0;return this.blobs.forEach(function(r){r.top<t&&(t=r.top),r.bottom>e&&(e=r.bottom),r.right>i&&(i=r.right),r.left<n&&(n=r.left)}),{top:t,bottom:e,left:n,right:i}}},{key:"root",get:function(){return this.blobs.items[0]}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e||0,this.y=n||0}return i(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"subtract",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"divide",value:function(t){return this.x=t.x?this.x*(1/t.x):0,this.y=t.y?this.y*(1/t.y):0,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divideScalar",value:function(t){if(0===t)this.x=0,this.y=0;else{var e=1/t;this.x*=e,this.y*=e}return this}},{key:"invert",value:function(){return this.x*=-1,this.y*=-1,this}},{key:"limit",value:function(t){return this.length>t&&(this.length=t),this}},{key:"rotate",value:function(t){var e=this.x;return this.x=this.x*Math.cos(t)-this.y*Math.sin(t),this.y=e*Math.sin(t)+this.y*Math.cos(t),this}},{key:"normalize",value:function(){return this.divideScalar(this.length)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"distanceSq",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"distance",value:function(t){return Math.sqrt(this.distanceSq(t))}},{key:"lengthSq",get:function(){return this.dot(this)}},{key:"length",get:function(){return Math.sqrt(this.lengthSq)},set:function(t){var e=this.length;0!==e&&t!==e&&this.multiplyScalar(t/e)}},{key:"rad",get:function(){return Math.atan2(this.x,this.y)},set:function(t){this.set(Math.cos(t)*this.length,Math.sin(t)*this.length)}},{key:"deg",get:function(){return 180*this.rad/Math.PI},set:function(t){this.rad=t*Math.PI/180}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=e.toOffsetX=function(t){return Math.sqrt(Math.pow(2*t,2)-Math.pow(t,2))},r=(e.toOffsetY=function(t){return t},e.toOffset=function(t){return{x:i(t),y:t}},e.toGridX=function(t,e){return e/t.offsetX}),o=e.toGridY=function(t,e){return e/t.offsetY},u=(e.toGrid=function(t,e,n){return void 0===n?{x:r(t,e.x),y:o(t,e.y)}:{x:r(t,e),y:o(t,n)}},e.fromGridX=function(t,e){return e*t.offsetX}),s=e.fromGridY=function(t,e){return e*t.offsetY},a=(e.fromGrid=function(t,e,n){return void 0===n?{x:u(t,e.x),y:s(t,e.y)}:{x:u(t,e),y:s(t,n)}},e.fromGlobalX=function(t,e){return e-t.rootX}),f=e.fromGlobalY=function(t,e){return e-t.rootY};e.fromGlobal=function(t,e,n){return void 0===n?{x:a(t,e.x),y:f(t,e.y)}:{x:a(t,e),y:f(t,n)}}},function(t,e){t.exports=PIXI},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(2)),r=o(n(0));function o(t){return t&&t.__esModule?t:{default:t}}var u=[[-1,-2],[0,-2],[1,-2],[-1,-1],[0,-1],[1,-1],[-2,0],[-1,0],[0,0],[1,0],[2,0],[4,0],[-2,1],[-1,1],[0,1],[1,1],[3,1],[4,1],[5,1],[-1,2]],s=function(t,e){return e*t.size-t.size/2},a=function(t,e){return e*t.size-t.size/2};e.default=function(t){var e=new i.default("ground",2541274);return u.forEach(function(n){return e.blobs.add(new r.default(s(t,n[0]),a(t,n[1]),t.size))}),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),u=(i=o)&&i.__esModule?i:{default:i};var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"jump"));return t.duration=.25,t.velocity=5,t.engageTime=0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),r(e,[{key:"start",value:function(){this.engageTime=this.duration}},{key:"cancel",value:function(){this.engageTime=0}},{key:"update",value:function(t,e){this.engageTime>0&&(t.vel.y=-this.velocity,this.engageTime-=e)}}]),e}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),u=(i=o)&&i.__esModule?i:{default:i};var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"move"));return t.dir=0,t.acceleration=.75,t.deceleration=.5,t.dragFactor=.9,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),r(e,[{key:"update",value:function(t,e){var n=Math.abs(t.vel.x);if(0!==this.dir)t.vel.x+=this.acceleration*e*this.dir;else if(0!==t.vel.x){var i=Math.min(n,this.deceleration*e);t.vel.x+=t.vel.x>0?-i:i}t.vel.x*=this.dragFactor}}]),e}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DIR=void 0;var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),u=(i=o)&&i.__esModule?i:{default:i},s=n(0);var a=e.DIR={TOP:Symbol("top"),BOTTOM:Symbol("bottom"),LEFT:Symbol("left"),RIGHT:Symbol("right")},f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"physics"));return n.level=t,n.dir=a.BOTTOM,n.gravity=.25,n.bounds={},n.solids=[],n.bodies=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),r(e,[{key:"update",value:function(t,e){this.checkDirection(t);var n=this.rotateVelocity(t,this.dir).x;t.pos.x+=n*e,this.checkX(t,n);var i=this.rotateVelocity(t,this.dir).y;t.pos.y+=i*e,this.checkY(t,i),t.vel.y+=this.gravity*e}},{key:"checkX",value:function(t,e){this.solids.intersection(t).forEach(function(n){e>0?t.right>n.left&&t.obstruct(s.EDGE.RIGHT,n):e<0&&t.left<n.right&&t.obstruct(s.EDGE.LEFT,n)})}},{key:"checkY",value:function(t,e){this.solids.intersection(t).forEach(function(n){e>0?t.bottom>n.top&&t.obstruct(s.EDGE.BOTTOM,n):e<0&&t.top<n.bottom&&t.obstruct(s.EDGE.TOP,n)})}},{key:"obstruct",value:function(t,e,n){var i=this.dir===a.TOP||this.dir===a.BOTTOM;e===s.EDGE.BOTTOM?(t.bottom=n.top,t.vel[i?"y":"x"]=0):e===s.EDGE.TOP?(t.top=n.bottom,t.vel[i?"y":"x"]=0):e===s.EDGE.LEFT?(t.left=n.right,t.vel[i?"x":"y"]=0):e===s.EDGE.RIGHT&&(t.right=n.left,t.vel[i?"x":"y"]=0)}},{key:"rotateVelocity",value:function(t,e){var n=t.vel.x,i=t.vel.y;return e===a.TOP?{x:-n,y:-i}:e===a.LEFT?{x:-i,y:n}:e===a.RIGHT?{x:i,y:-n}:{x:n,y:i}}},{key:"checkDirection",value:function(t){return t.left>this.bounds.left&&t.right<this.bounds.right&&t.bottom<this.bounds.top?this.dir=a.BOTTOM:t.left>this.bounds.left&&t.right<this.bounds.right&&t.top>this.bounds.bottom?this.dir=a.TOP:t.top>this.bounds.top&&t.bottom<this.bounds.bottom&&t.left>this.bounds.right?this.dir=a.LEFT:t.top>this.bounds.top&&t.bottom<this.bounds.bottom&&t.right<this.bounds.left?this.dir=a.RIGHT:void 0}},{key:"add",value:function(t){this.solids=t,this.bounds=t.bounds()}}]),e}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=null!=e?e.slice():[]}return i(t,[{key:"add",value:function(t){-1===this.items.indexOf(t)&&this.items.push(t)}},{key:"remove",value:function(t){var e=this.items.indexOf(t);-1!==e&&this.items.splice(e,1)}},{key:"empty",value:function(){this.items=[]}},{key:"forEach",value:function(t){for(var e=-1,n=this.items.length;++e<n;)if(!1===t(this.items[e],e,this.items))return}},{key:"length",get:function(){return this.items.length}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.states=new Map,this.events=new Map,this.listenTo(e)}return i(t,[{key:"on",value:function(t,e){this.events.set(t,e)}},{key:"handleEvent",value:function(t){t.preventDefault();var e=t.code;if(this.events.has(e)){var n="keydown"===t.type?1:0;this.states.get(e)!==n&&(this.states.set(e,n),this.events.get(e)(n))}}},{key:"listenTo",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;["keydown","keyup"].forEach(function(n){e.addEventListener(n,function(e){t.handleEvent(e)})})}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(n(11)),r=f(n(2)),o=f(n(0)),u=f(n(9)),s=f(n(8)),a=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=new r.default("player",16007990),n=new o.default(0,-250,t.size);e.blobs.add(n),n.addTrait(new u.default(t)),n.addTrait(new s.default),n.addTrait(new a.default);var f=new i.default;return f.on("ArrowRight",function(t){n.move.dir+=t?1:-1}),f.on("ArrowLeft",function(t){n.move.dir+=t?-1:1}),f.on("Space",function(t){t?n.jump.start():n.jump.cancel()}),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(4);var i,r=n(3),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n={rootX:t.screen.width/2,rootY:t.screen.height/2,gravityCenter:new o.default(0,0),gravityValue:.4,size:e};return window.addEventListener("resize",function(){t.renderer.resize(window.innerWidth,window.innerHeight),n.rootX=t.screen.width/2,n.rootY=t.screen.height/2}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=new(n(5).Application)({antialias:!0,width:window.innerWidth,height:window.innerHeight,backgroundColor:15921906});document.body.appendChild(i.view),e.default=i},function(t,e,n){"use strict";var i=s(n(14)),r=s(n(13)),o=(n(4),s(n(0)),s(n(12))),u=s(n(6));function s(t){return t&&t.__esModule?t:{default:t}}var a=(0,r.default)(i.default,24),f=(0,o.default)(a),c=(0,u.default)(a);f.root.physics.add(c),i.default.stage.addChild(c.shape),i.default.stage.addChild(f.shape),i.default.ticker.add(function(t){f.update(t),c.render(a),f.render(a)})}]);